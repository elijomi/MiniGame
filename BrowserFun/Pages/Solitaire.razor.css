/* Dark themed Solitaire board */
.sol-wrapper { width: fit-content; max-width: none; margin: 0 auto; }
.game-header { text-align: center; margin-bottom: 8px; display: flex; flex-direction: column; gap: 6px; align-items: center; }
.game-header .counters { display: flex; gap: 12px; color: var(--text, #e5e7eb); }
.game-header .actions { display: flex; gap: 8px; }

/* Size toggle (dimmed blue, connected buttons) */
.size-toggle { display: inline-flex; border-radius: 8px; overflow: hidden; border: 1px solid rgba(59,130,246,0.35); background: rgba(59,130,246,0.10); box-shadow: inset 0 1px 2px rgba(0,0,0,0.15); }
.size-toggle .size-btn { appearance: none; background: transparent; border: none; padding: 8px 10px; cursor: pointer; color: #c7d2fe; display: inline-flex; align-items: center; justify-content: center; transition: background 120ms ease, box-shadow 120ms ease; }
.size-toggle .size-btn + .size-btn { border-left: 1px solid rgba(59,130,246,0.35); }
.size-toggle .size-btn:hover { background: rgba(59,130,246,0.18); }
.size-toggle .size-btn.active { background: rgba(59,130,246,0.26); box-shadow: inset 0 0 0 1px rgba(59,130,246,0.45); }
.size-toggle .size-btn:focus-visible { outline: none; box-shadow: inset 0 0 0 2px #60a5fa; }

/* Little card swatches to indicate size */
.size-toggle .card-swatch { display: block; background: linear-gradient(180deg, #ffffff, #f8fafc); border: 1px solid #cbd5e1; border-radius: 6px; box-shadow: 0 1px 2px rgba(0,0,0,0.25); }
.size-toggle .size-btn.active .card-swatch { border-color: #93c5fd; box-shadow: 0 0 0 2px rgba(59,130,246,0.25), 0 1px 2px rgba(0,0,0,0.25); }

/* Visual scale for compact/comfortable/large */
.size-toggle .swatch-sm { width: 18px; height: 12px; }
.size-toggle .swatch-md { width: 24px; height: 16px; }
.size-toggle .swatch-lg { width: 30px; height: 20px; }

.board { position: relative; background: linear-gradient(180deg, #0b1220, #0a111d); border: 1px solid var(--border); padding: 14px; border-radius: 12px; box-shadow: 0 8px 24px rgba(0,0,0,0.35);
  /* Ensure the board is wide enough to fit 7 tableau columns */
  min-width: calc((7 * var(--pile-w)) + (6 * var(--grid-gap)));
}

/* Size modes override layout variables */
.board.size-small { --pile-w: 80px; --card-h: 112px; --grid-gap: 12px; --corner-font: 14px; }
.board.size-comfy { --pile-w: 100px; --card-h: 140px; --grid-gap: 16px; --corner-font: 16px; }
.board.size-large { --pile-w: 120px; --card-h: 168px; --grid-gap: 18px; --corner-font: 18px; }

/* Layout: foundations (4) left, spacer, waste, stock (right) */
.top-row { display: grid; grid-template-columns: repeat(4, var(--pile-w, 80px)) 1fr var(--pile-w, 80px) var(--pile-w, 80px); gap: var(--grid-gap); align-items: start; margin-bottom: var(--grid-gap); }

.tableau-row { display: grid; grid-template-columns: repeat(7, var(--pile-w, 80px)); gap: var(--grid-gap); align-items: start; }

.pile { position: relative; width: var(--pile-w, 80px); min-height: var(--card-h, 112px); }
.pile .slot { width: var(--pile-w, 80px); height: var(--card-h, 112px); border-radius: 10px; border: 1px dashed rgba(255,255,255,0.18); background: rgba(255,255,255,0.03); }
.pile .slot.empty-stock { border-style: solid; border-color: rgba(255,255,255,0.18); }

/* Cards */
.sol-card { position: absolute; width: var(--pile-w, 80px); height: var(--card-h, 112px); border-radius: 14px; box-shadow: 0 4px 10px rgba(0,0,0,0.35); user-select: none; }
.sol-card.facedown {
  /* Subtle patterned back: soft diagonal dot grid over the dark gradient */
  background:
    radial-gradient(circle at 1px 1px, rgba(255,255,255,0.08) 1px, transparent 1.2px) 0 0/8px 8px,
    linear-gradient(180deg, #1e293b, #0f172a);
  border: 1px solid rgba(255,255,255,0.18);
}
.sol-card.faceup { background: #fff; border: 1px solid #d1d5db; cursor: pointer; }

.sol-card .card-face { position: relative; width: 100%; height: 100%; border-radius: 14px; }
.sol-card ::deep .corner { position: absolute; font-size: var(--corner-font, 16px); line-height: 1; text-align: center; }
.sol-card ::deep .corner.sol-tl { left: 10px; top: 10px; }
.sol-card ::deep .corner.sol-br { right: 10px; bottom: 10px; transform: rotate(180deg); }
.sol-card ::deep .corner.sol-red  { color: #dc2626; }
.sol-card ::deep .corner.sol-black { color: #111827; }

/* Selected highlight */
.sol-card.selected { box-shadow: 0 0 0 3px #60a5fa inset, 0 2px 6px rgba(0,0,0,0.35); }

/* Waste fan */
.pile.waste .sol-card { position: absolute; top: 0; }

/* Enable some visual feedback on drag targets */
.pile.tableau.drag-over .slot,
.pile.foundation.drag-over .slot { outline: 2px dashed #60a5fa; outline-offset: 2px; }

/* Win overlay */
.overlay { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.45); border-radius: 12px; backdrop-filter: blur(4px); }
.overlay-panel { background: rgba(17,17,17,0.85); border: 1px solid var(--border); box-shadow: 0 10px 30px rgba(0,0,0,0.5); border-radius: 12px; padding: 16px 20px; text-align: center; color: #f3f4f6; }
.overlay-title { font-size: 1.25rem; font-weight: 700; margin-bottom: 10px; }
